---
title: "Cleaning"
---

# Preparing the information

## Loading the libraries

```{r include=FALSE}
library(readr)
library(dplyr)
library(ggplot2)
library(tidyr)
library(janitor)
```



```{r load the global meat production data set, include=FALSE}
production_df <- data.frame(read_csv("archive (5)/global-meat-production.csv"))
```


```{r}
#Formatted the columns titles to lowercase

production_df <- clean_names(production_df)
```


```{r}
#Used the pipe operator to rename the columns

production_df <- production_df %>% 
  rename(country = entity,
         primary_livestock_meat = `livestock_primary_meat_total_1765_production_5510_tonnes_tonnes`)
```


```{r}
production_df <- production_df %>% 
  rename(country_code = code)
```


```{r view data set, include=FALSE}
View(production_df)
```


```{r}
#filtered OWID_WRL 
#created new data frame

country_code_world <- filter(production_df, country_code == "OWID_WRL")
```



```{r}
#continents <- production_df[is.na(production_df$country_code)]
continents <- filter(production_df,is.na(country_code))
```


```{r}
production_dfcopy <- production_df
```


```{r}
production_dfcopy <- production_dfcopy %>% 
  filter(!is.na(country_code))
```

```{r}
production_dfcopy <- production_dfcopy %>% 
  filter(country_code != "OWID_WRL")
```


# Loading data information from CVS (consumption)
```{r load the global meat consumption data set, include=FALSE}
pc_meat_consumption_kg <- read_csv("docs/archive (5)/per-capita-meat-consumption-by-type-kilograms-per-year.csv")
```

## Pipe to clean the data information of consumption by country
```{r rename columns, filter out continents and change na values for na}
#Used the pipe operator to clean the names of the columns, rename columns, to filter na codes (df without continents) and change the na values to 0.
pc_meat_consumption_kg_country <- pc_meat_consumption_kg %>%
  clean_names() %>%
  rename(mutton_goat_kg = mutton_and_goat_kilograms_per_year,
         other_kg = other_meats_kilograms_per_person,
         poultry_kg = poultry_kilograms_per_year,
         pigmeat_kg = pigmeat_kilograms_per_year,
         beef_bufallo_kg = beef_and_bufallo_kilograms_per_year) %>%
  filter(!is.na(code)) %>% 
  mutate_all( ~replace(., is.na(.), 0.0))
```

## Pipe to clean the data information of consumption by continent
```{r rename columns, filter out continents and change na values for na}
#Used the pipe operator to clean the names of the columns, rename columns, to filter na codes (df without continents) and change the na values to 0.
pc_meat_consumption_kg_continent <- pc_meat_consumption_kg %>%
  clean_names() %>%
  rename(mutton_goat_kg = mutton_and_goat_kilograms_per_year,
         other_kg = other_meats_kilograms_per_person,
         poultry_kg = poultry_kilograms_per_year,
         pigmeat_kg = pigmeat_kilograms_per_year,
         beef_bufallo_kg = beef_and_bufallo_kilograms_per_year) %>%
  filter(is.na(code))
```



